<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../ele/logo_variations/fav_icon.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../ele/logo_variations/fav_icon.png" />
    <link rel="shortcut icon" href="../ele/logo_variations/fav_icon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../ele/logo_variations/web_icon.png" />
    <title>Nexus Card | Dynamic Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="/assets/css/card-style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script herf="/assets/js/card-manager.js" defer></script>
    <style>
        /* Custom CSS Variables for theming */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.05);
            --theme-color: #8b5cf6;
            --bg-color: #000000;
            --card-bg: #000000;
            --text-primary: #ffffff;
            --text-secondary: #a855f7;
            --border-color: var(--theme-color);
            --font-unbounded: "Unbounded", "Unbounded Fallback", ui-sans-serif, system-ui, sans-serif;
        }

        /* Import Unbounded font */
        body {
            font-family: var(--font-unbounded);
        }

        .dynamic-theme-color {
            color: var(--theme-color);
            border-color: var(--theme-color);
        }

        .dynamic-shadow {
            box-shadow: 0 0 20px 8px var(--theme-color);
        }

        .dynamic-shadow-hover:hover {
            box-shadow: 0 0 30px 10px var(--theme-color);
        }

        .dynamic-glow {
            filter: drop-shadow(0 0 2px var(--theme-color));
        }

        .dynamic-glow-hover:hover {
            filter: drop-shadow(0 0 8px var(--theme-color));
        }

        .card-3d {
            position: relative;
            overflow: hidden;
            background: var(--card-bg);
            border: 1px solid rgba(139, 92, 246, 0.2);
            /* w-full max-w-[430px] min-h-full */
            width: 100%;
            max-width: 430px;
            min-height: 100%;
        }


        /* .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        } */

        /* @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        } */

        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .skill-tag {
            transition: all 0.3s ease;
            background: transparent;
            border: 1px solid var(--theme-color);
            font-family: var(--font-unbounded);
            /* font-weight: 500; */
        }

        .skill-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            background: rgba(139, 92, 246, 0.1);
        }

        .social-icon {
            transition: all 0.3s ease;
            position: relative;
        }

        .social-icon:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(14, 14, 14, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(8px);
            border: 1px solid #272727;
            z-index: 1000;
        }

        .social-icon:hover .tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-5px);
        }

        .profile-image {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
            filter: brightness(0.9) contrast(1.2) hue-rotate(0) saturate(1.1);
        }

        .banner-overlay {
            background: linear-gradient(45deg, transparent 70%, rgba(139, 92, 246, 0.1));
        }

        /* Typography with Unbounded font */
        h1,
        h2,
        h3,
        .profile-name {
            font-family: var(--font-unbounded);
            font-weight: 700;
        }

        .card-title {
            font-family: var(--font-unbounded);
            font-weight: bold;
            /* letter-spacing: -0.02em; */
            /* font-size: 10px; */
        }

        /* Grid Background */
        .grid-background {
            background-image:
                linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: grid-move 20s linear infinite;
        }

        @keyframes grid-move {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(50px, 50px);
            }
        }

        /* Navigation styles */
        .card-navigation {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            /* background: rgba(0, 0, 0, 0.8); */
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 25px;
            color: #FFFFFFB2;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            font-family: var(--font-unbounded);
        }

        .nav-btn:hover {
            color: rgb(138, 92, 246, 0.8);
            background: var(--glass-bg);
            background-color: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .nav-btn i {
            font-size: 16px;
        }

        /* Responsive navigation */
        @media (max-width: 768px) {
            .card-navigation {
                top: 15px;
                left: 15px;
                right: 15px;
                justify-content: center;
            }

            .nav-btn {
                padding: 10px 16px;
                font-size: 13px;
            }

            .nav-btn span {
                display: none;
            }
        }

        /* Card Container Loading Effect */
        .card-container {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            animation: loadCardContainer 450ms ease-out 150ms forwards;
        }

        .card-container::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* background: linear-gradient(135deg, #080808 0%, #1a1a1a 100%); */
            background: linear-gradient(135deg, #08080800 0%, #1A1A1A00 100%);
            z-index: 9999;
            animation: hideCardLoader 300ms ease-out 400ms forwards;
        }

        .card-container::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 35px;
            height: 35px;
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-top: 2px solid #8b5cf6;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 10000;
            animation: spinCard 1s linear infinite, hideCardLoader 300ms ease-out 450ms forwards;
        }

        @keyframes loadCardContainer {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes hideCardLoader {
            0% {
                opacity: 1;
                visibility: visible;
            }

            100% {
                opacity: 0;
                visibility: hidden;
            }
        }

        @keyframes spinCard {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 480px) {
            .card-3d {
                max-width: 320px;
            }

            .card-container {
                transform: translateY(15px) scale(0.97);
                animation: loadCardContainerMobile 550ms ease-out 150ms forwards;
            }

            .card-container::after {
                width: 30px;
                height: 30px;
                border-width: 2px;
            }



            @keyframes loadCardContainerMobile {
                0% {
                    opacity: 0;
                    transform: translateY(15px) scale(0.97);
                }

                100% {
                    opacity: 1;
                    transform: translateY(0) scale(1);
                }
            }
        }

        @media (max-width: 450px) {
            .card-3d {
                max-width: 350px !important;
            }
        }

        /* iPhone and small screens */
        @media (max-width: 375px) {
            .card-3d {
                max-width: 280px;
            }

            .card-container::after {
                width: 25px;
                height: 25px;
                border-width: 1.5px;
            }
        }

        /* Landscape mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            .card-container {
                transform: translateY(10px) scale(0.98);
            }

            .card-container::after {
                width: 28px;
                height: 28px;
            }
        }
    </style>
</head>

<body class="antialiased">

    <!-- Navigation -->
    <div class="card-navigation">
        <a href="/index.html" class="nav-btn">
            <i class="fas fa-arrow-left"></i>
            <span>Back to Portfolio</span>
        </a>
    </div>

    <div class="App">
        <div id="background" class="fixed inset-0 w-screen h-screen -z-10" style="background: #080808;"></div>
        <!-- Animated background grid -->
        <div class="fixed inset-0 -z-10"
            style="background-image: linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px); background-size: 50px 50px; animation: grid-move 20s linear infinite;">
        </div>
        <div class="card-container">
            <div class="flex justify-center items-center min-h-screen m-0 p-0 font-chillax">
                <!-- Main Card -->
                <div id="profileCard"
                    class="card-3d backdrop-blur-lg rounded-3xl text-white text-center transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] will-change-transform"
                    style="transform: perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1);">

                    <!-- Banner Section -->
                    <div class="mb-[-3rem] relative">
                        <div class="w-full h-[150px] m-0 p-0 rounded-t-3xl overflow-hidden border-b">
                            <img id="bannerImage" alt="Banner" class="w-full h-full object-banner"
                                style="color:transparent">
                            <div class="banner-overlay absolute inset-0"></div>
                        </div>
                    </div>

                    <!-- Profile Section -->
                    <div class="flex flex-col items-center relative z-10">
                        <div class="mb-2">
                            <img id="profileImage" alt="Profile" width="100" height="100"
                                class="w-[100px] h-[100px] rounded-full profile-image object-cover"
                                style="color:transparent;">
                        </div>
                        <h1 id="profileName"
                            class="profile-name text-[20px] font-bold text-white mb-5 mt-2 cursor-default"></h1>
                    </div>

                    <!-- Skills Section (Limited to 2) -->
                    <div id="skillsContainer" class="mb-6 cursor-default">
                        <!-- mb-6 cursor-default -->
                        <!-- Skills will be populated dynamically -->
                    </div>

                    <!-- Location Section -->
                    <div class="location-section">
                        <p id="locationText"
                            class="flex items-center justify-center gap-1.5 mb-5 cursor-default text-[12px] text-gray-400">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24"
                                class="text-[1.2em] dynamic-theme-color dynamic-glow" height="1em" width="1em"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path
                                    d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z">
                                </path>
                            </svg>
                            <span id="locationName"></span>
                        </p>
                    </div>

                    <!-- Social Links Section -->
                    <!-- flex justify-center mb-8 -->
                    <div id="socialLinksContainer" class="flex justify-center mb-8 flex-wrap">
                        <!-- Social links will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <script src="/assets/js/card-manager.js"></script> -->
    <script>

        //         const style = document.createElement('style');
        // style.textContent = `
        //     @keyframes grid-move {
        //         0% { transform: translate(0, 0); }
        //         100% { transform: translate(50px, 50px); }
        //     }

        //     @keyframes glow-pulse {
        //         0%, 100% { 
        //             box-shadow: 
        //                 0 0 20px 8px #6366f140,
        //                 0 0 40px 12px #6366f120,
        //                 inset 0 1px 0 rgba(255, 255, 255, 0.1);
        //         }
        //         50% { 
        //             box-shadow: 
        //                 0 0 30px 10px #6366f160,
        //                 0 0 60px 15px #6366f130,
        //                 inset 0 1px 0 rgba(255, 255, 255, 0.2);
        //         }
        //     }

        //     .card-3d {
        //         animation: glow-pulse 4s ease-in-out infinite;
        //     }

        //     .card-3d:hover {
        //         animation-play-state: paused;
        //     }
        // `;
        // document.head.appendChild(style);


        // Configuration and state management
        let config = {};
        let isLoaded = false;

        // Social media icons mapping
        const socialIcons = {
            linktree: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 640" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M128 237.4L253.8 237.4L164.4 152L213.9 101L299.1 188.8L299.1 64L373 64L373 188.8L458.2 101.2L507.6 152L418.2 237.2L543.9 237.2L543.9 307.7L417.5 307.7L507.5 395.3L458.2 445.1L336 322.1L213.8 445.1L164.3 395.5L254.3 307.9L127.9 307.9L127.9 237.4zM298.9 408.8L372.8 408.8L372.8 576L298.9 576L298.9 408.8z"/></svg>`,
            github: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>`,
            linkedin: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>`,
            twitter: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>`,
            discord: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg>`,
            email: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg>`,
            youtube: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>`,
            spotify: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"></path></svg>`,
            steam: `<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"></path></svg>`
        };

        // Load configuration
        async function loadConfig() {
            try {
                const response = await fetch('/assets/config/card-config.json');
                config = await response.json();
                applyTheme();
                populateCard();
                showCard();
            } catch (error) {
                console.error('Error loading configuration:', error);
                // Fallback configuration
                config = {
                    profile: {
                        name: "Demo User",
                        username: "@demo",
                        tagline: "Developer",
                        location: "World",
                        bio: "This is a demo profile",
                        bannerImage: "../ele/repo_banner.png",
                        profileImage: "../ele/profile_pic.png",
                        themeColor: "#306dcb"
                    },
                    skills: ["Developer"],
                    socialLinks: [],
                    footer: { text: "Made with ❤️", url: "#", showHeart: true }
                };
                applyTheme();
                populateCard();
                showCard();
            }
        }

        // Apply theme based on configuration
        function applyTheme() {
            const root = document.documentElement;
            const customization = config.customization || {};

            root.style.setProperty('--theme-color', config.profile.themeColor || '#8b5cf6');
            root.style.setProperty('--bg-color', customization.backgroundColor || '#000000');

            // Apply background
            const background = document.getElementById('background');
            if (customization.backgroundType === 'gradient') {
                background.style.background = customization.backgroundGradient || 'linear-gradient(135deg, #000000, #1a0533)';
            } else {
                background.style.background = customization.backgroundColor || '#000000';
            }

            // Apply card styling
            const card = document.getElementById('profileCard');
            if (card) {
                card.style.backgroundColor = customization.cardBackground || '#000000';
                card.style.borderRadius = customization.cardBorderRadius || '24px';
                card.style.maxWidth = customization.cardWidth || '430px';
            }
        }

        // Populate card with data
        function populateCard() {
            // Basic profile info
            document.getElementById('profileName').textContent = config.profile.name;
            document.getElementById('locationName').textContent = config.profile.location;

            // Images
            document.getElementById('bannerImage').src = config.profile.bannerImage;
            document.getElementById('profileImage').src = config.profile.profileImage;

            // Skills (limit to 2)
            populateSkills();

            // Social links
            populateSocialLinks();

            // Apply dynamic classes
            applyDynamicStyling();
        }

        // Populate skills section (limit to 2)
        function populateSkills() {
            const container = document.getElementById('skillsContainer');
            container.innerHTML = '';

            // Limit to first 2 skills
            const skillsToShow = config.skills ? config.skills.slice(0, 2) : [];

            skillsToShow.forEach(skill => {
                const skillTag = document.createElement('span');
                skillTag.className = 'skill-tag dynamic-theme-color px-3 py-1.5 rounded-[20px] m-0.5 text-[11px] inline-block';
                skillTag.textContent = skill;
                container.appendChild(skillTag);
            });
        }

        // Populate social links
        function populateSocialLinks() {
            const container = document.getElementById('socialLinksContainer');
            container.innerHTML = '';

            config.socialLinks.forEach(link => {
                const linkElement = document.createElement('a');
                linkElement.href = link.url;
                linkElement.target = '_blank';
                linkElement.rel = 'noopener noreferrer';
                linkElement.className = 'social-icon relative group px-3 py-2';

                const iconHtml = socialIcons[link.icon] || socialIcons.github;

                linkElement.innerHTML = `
                    <div class="dynamic-theme-color text-[1.65rem] dynamic-glow dynamic-glow-hover transition-all duration-300">
                        ${iconHtml}
                    </div>
                    <div class="tooltip">${link.tooltip}</div>
                `;

                container.appendChild(linkElement);
            });
        }

        // Apply dynamic styling classes
        function applyDynamicStyling() {
            const card = document.getElementById('profileCard');
            card.classList.add('dynamic-shadow', 'dynamic-shadow-hover');
            card.style.backgroundColor = 'var(--card-bg)';

            // Apply theme color to border
            const bannerContainer = card.querySelector('.border-b');
            if (bannerContainer) {
                bannerContainer.style.borderColor = config.profile.themeColor;
            }
        }

        // Show card with animation
        function showCard() {
            const card = document.getElementById('profileCard');

            card.classList.add('fade-in');
            isLoaded = true;

            // Initialize 3D effects after card is shown
            if (config.animations?.enableHover3D !== false) {
                init3DEffects();
            }

            if (config.animations?.enableRippleEffect !== false) {
                initRippleEffect();
            }
        }

        // 3D Hover Effects
        function init3DEffects() {
            const cards = document.querySelectorAll('.card-3d');

            cards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transition = 'all 0.05s ease-out';
                });

                card.addEventListener('mouseleave', () => {
                    card.style.transition = 'all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                    card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px) scale(1)';
                });

                card.addEventListener('mousemove', (e) => {
                    if (!isLoaded) return;

                    const cardRect = card.getBoundingClientRect();
                    const cardCenterX = cardRect.left + cardRect.width / 2;
                    const cardCenterY = cardRect.top + cardRect.height / 2;

                    const deltaX = e.clientX - cardCenterX;
                    const deltaY = e.clientY - cardCenterY;

                    const rotateX = (deltaY / cardRect.height) * -15;
                    const rotateY = (deltaX / cardRect.width) * 15;

                    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    const maxDistance = Math.sqrt(cardRect.width * cardRect.width + cardRect.height * cardRect.height) / 2;
                    const proximity = 1 - Math.min(distance / maxDistance, 1);

                    const scale = 1 + (proximity * 0.05);
                    const translateZ = proximity * 20;

                    card.style.transform = `
                        perspective(1000px) 
                        rotateX(${rotateX}deg) 
                        rotateY(${rotateY}deg) 
                        translateZ(${translateZ}px) 
                        scale(${scale})
                    `;
                });
            });
        }

        // Ripple Effect
        function initRippleEffect() {
            const cards = document.querySelectorAll('.card-3d');

            cards.forEach(card => {
                card.addEventListener('click', (e) => {
                    if (!isLoaded) return;

                    const ripple = document.createElement('div');
                    const rect = card.getBoundingClientRect();
                    const size = 60;
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;

                    ripple.style.cssText = `
                        position: absolute;
                        width: ${size}px;
                        height: ${size}px;
                        background: ${config.profile.themeColor}66;
                        border-radius: 50%;
                        left: ${x}px;
                        top: ${y}px;
                        pointer-events: none;
                        transform: scale(0);
                        z-index: 1000;
                    `;

                    card.appendChild(ripple);

                    ripple.animate([
                        { transform: 'scale(0)', opacity: 1 },
                        { transform: 'scale(4)', opacity: 0 }
                    ], {
                        duration: 600,
                        easing: 'ease-out'
                    }).onfinish = () => ripple.remove();
                });
            });
        }

        // Parallax Effect
        if (config.animations?.enableParallax !== false) {
            document.addEventListener('mousemove', (e) => {
                if (!isLoaded) return;

                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;

                const banner = document.getElementById('bannerIage'); // bannerImage
                if (banner) {
                    banner.style.transform = `translate(${mouseX * 5}px, ${mouseY * 3}px) scale(1.05)`;
                }
            });
        }

        // Image error handling
        function handleImageError(img) {
            img.onerror = () => {
                img.style.background = 'linear-gradient(45deg, #333, #555)';
                img.alt = 'Image not found';
            };
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadConfig();

            // Add error handling for images
            document.getElementById('bannerImage').onerror = function () {
                this.style.background = 'linear-gradient(45deg, #333, #666)';
            };

            document.getElementById('profileImage').onerror = function () {
                this.style.background = 'linear-gradient(45deg, #444, #666)';
                this.style.display = 'flex';
                this.style.alignItems = 'center';
                this.style.justifyContent = 'center';
                this.innerHTML = '<i class="fas fa-user text-white text-2xl"></i>';
            };
        });

        // Listen for configuration updates from configurator
        window.addEventListener('message', (event) => {
            if (event.data.type === 'updateConfig') {
                config = event.data.config;
                applyTheme();
                populateCard();
            }
        });

        // Send ready message to parent
        window.addEventListener('load', () => {
            if (window.parent !== window) {
                window.parent.postMessage({ type: 'requestConfig' }, '*');
            }
        });

        // Export functions for external use
        window.cardAPI = {
            updateConfig: (newConfig) => {
                config = { ...config, ...newConfig };
                applyTheme();
                populateCard();
            },
            getConfig: () => config,
            reloadCard: loadConfig
        };
    </script>
</body>

</html>